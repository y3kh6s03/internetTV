# 動画閲覧アプリケーション　データベース

## 主な仕様は以下の通りです。
1. 番組を提供するチャンネルを設定します。
2. チャンネルのもとで放送する時間帯を設定します。
3. 番組はシーズン、単発で設定できます。シリーズになっている番組はシーズンとシーズンの中にエピソードを設定します。
4. エピソードは再放送として設定できます。
5. 番組の情報として、タイトル、番組詳細、ジャンルがあります。
6. ジャンルとしてアニメ、映画、ドラマ、ニュースなどを設定できます。番組には1つ以上のジャンルを設定できます。
7. 各エピソードの情報として、シーズン数、エピソード数、タイトル、エピソード詳細、動画時間、公開日、視聴数があります。単発のエピソードの場合はシーズン数、エピソード数はありません。
8. KPIとして、チャンネルの番組枠のエピソードごとにの視聴数。一つのエピソードは複数の異なるチャンネル及び番組枠で放送されることがあるので、属するチャンネルの番組枠ごとに視聴数を集計可能です。

### データベース構築
- 各テーブル設計に関しては、[table](/table.md)からご確認ください。
- 上記テーブル設計に基づいたクエリは、[create_table](/create_table.sql)をご利用ください。
  - 外部キー制約を利用しているため、上から順番にクエリを流すようにしてください。
  - データベース、開発者ユーザーをrootユーザーで作成してください。
  - 開発者ユーザーは、user_name,接続元のホスト名,passwordを適宜変更してください。

### サンプルデータ挿入
- データベース、テーブル構築ができましたら、[sample_data](sample_data.sql)をご利用いただけます。
- サンプルデータに関しても、上から順番にクエリを流してください。
- タイムテーブルのサンプルデータは不足していますので、適宜追加してください。

### データ取得クエリ
- 上記データベースの構築ができたら、[データ取得クエリ](select.sql)をテストクエリとして利用できます。
  - タイムテーブルから取得するクエリに関しては、データが不足しているためサンプルデータを追加して期間を適宜指定して利用してください。




